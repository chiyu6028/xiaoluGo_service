<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/js/jquery.js"></script>
</head>
<body>
<div id="id">注册页面</div>
<form id="login">
    用户名：<input type="text" id="userId" name="userId" size="20" /></br>
    密码：<input type="password" id="userPassword" name="userPassword" size="20" /></br>
    昵称：<input type="text" id="userName" name="userName" size="20" /></br>
    <input type="button" id="submit" value="提交" />

</form>
</body>

<script>

    $(document).ready(function () {

        $("#submit").bind('click',function () {
            var userId = $("#userId").val();
            var userPassword = $("#userPassword").val();
            var userName = $("#userName").val();
            $.ajax({
                type: 'GET',
                url: '/registerSubmit',
                dataType: "json",
                data:{
                    user_id: userId,
                    user_password: userPassword,
                    user_name: userName
                },
                success: function (data) {
                    console.log(data);
                    if(data[0].flag == "1"){
                        window.location.href="/main";
                    }
                },
                error:function (data) {
                    console.log(data);
                }
            })
        });

        $("#refreshImg").bind('click',function () {
            $(this).attr("src","/validateCode?id="+Math.random());
        })

    })

</script>
</html>